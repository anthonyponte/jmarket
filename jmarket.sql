CREATE TABLE USUARIO (
	ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
	TIPO_USUARIO INTEGER NOT NULL,
	NOMBRE_USUARIO VARCHAR(12) NOT NULL,
	CONTRASENA VARCHAR(14) NOT NULL,
	ESTADO INTEGER NOT NULL,
	PERSONA_ID BIGINT NOT NULL,
	FECHA_INGRESO TIMESTAMP DEFAULT NOW() NOT NULL
);

CREATE TABLE PERSONA (
	ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
	TIPO_DOCUMENTO INTEGER NOT NULL,
	NUMERO_DOCUMENTO VARCHAR(25) NOT NULL,
	PRIMER_NOMBRE VARCHAR(250) NOT NULL,
	SEGUNDO_NOMBRE VARCHAR(250) NOT NULL,
	APELLIDO_PATERNO VARCHAR(250) NOT NULL,
	APELLIDO_MATERNO VARCHAR(250) NOT NULL,
	ESTADO INTEGER NOT NULL,
	FECHA_INGRESO TIMESTAMP DEFAULT NOW() NOT NULL
);

CREATE TABLE PRODUCTO (
	ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
	CODIGO VARCHAR(50) NOT NULL,
	DESCRIPCION VARCHAR(255) NOT NULL,
	UNIDAD_MEDIDA INTEGER NOT NULL,
	PRECIO_UNITARIO DECIMAL(9, 2) NOT NULL,
	ESTADO INTEGER NOT NULL,
	FECHA_INGRESO TIMESTAMP DEFAULT NOW() NOT NULL
);

CREATE TABLE VENTA (
	ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
	FECHA_EMISION DATE NOT NULL,
	TOTAL DECIMAL(9, 2) NOT NULL,
	ESTADO INTEGER NOT NULL,
	PERSONA_ID BIGINT NOT NULL,
	FECHA_INGRESO TIMESTAMP DEFAULT NOW() NOT NULL
);

CREATE TABLE VENTA_DETALLE (
	ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
	NUMERO_FILA INTEGER NOT NULL,
	PRECIO_UNITARIO DECIMAL(9, 2) NOT NULL,
	CANTIDAD DECIMAL(9, 2) NOT NULL,
	SUBTOTAL DECIMAL(9, 2) NOT NULL,
	ESTADO INTEGER NOT NULL,
	PRODUCTO_ID BIGINT NOT NULL,
	VENTA_ID BIGINT NOT NULL,
	FECHA_INGRESO TIMESTAMP DEFAULT NOW() NOT NULL
);

ALTER TABLE
	USUARIO
ADD
	FOREIGN KEY (PERSONA_ID) REFERENCES PERSONA (ID);

ALTER TABLE
	VENTA
ADD
	FOREIGN KEY (PERSONA_ID) REFERENCES PERSONA (ID);

ALTER TABLE
	VENTA_DETALLE
ADD
	FOREIGN KEY (PRODUCTO_ID) REFERENCES PRODUCTO (ID);

ALTER TABLE
	VENTA_DETALLE
ADD
	FOREIGN KEY (VENTA_ID) REFERENCES VENTA (ID);

java -classpath C:\Users\anthonyponte\Downloads\hsqldb-2.7.2\hsqldb\lib\hsqldb.jar org.hsqldb.server.Server --database.0 file:C:\Users\anthonyponte\Documents\NetBeansProjects\jmarket\hsqldb\jmarket --dbname.0 jmarket